{"version":3,"sources":["CartContext.js","components/Home.js","assets/bigblue.jpg","store-data.js","assets/carter.jpg","assets/halga.jpg","assets/john.jpg","assets/mitch.jpg","styled-components/Card.js","utilities.js","styled-components/colors.js","styled-components/Button.js","components/AddToCart.js","components/ProductCard.js","components/Shop.js","styled-components/RoundBtn.js","styled-components/CartInputGroup.js","styled-components/TextInput.js","components/AddToCartInput.js","components/Cart.js","components/Product.js","components/CartLink.js","styled-components/Nav.js","styled-components/Main.js","App.js","index.js"],"names":["cartActions","increment","decrement","set","remove","CartContext","React","createContext","Home","data","title","category","price","weight","image","bigblue","Card","styled","div","props","backgroundImage","formatCurrency","cur","toFixed","colors","btnBg","Button","button","primary","AddToCart","id","cartDispatch","useContext","onClick","e","stopPropagation","type","ProductCard","product","to","className","Shop","style","paddingLeft","Object","entries","storeData","map","RoundBtn","CartInputGroup","TextInput","input","AddToCartInput","cartState","quantity","fontSize","value","onChange","Math","floor","abs","target","Cart","length","total","reduce","acc","Product","productId","useParams","cat","CartLink","activeStyle","loc","useLocation","pathname","Nav","nav","Main","main","cartReducer","state","handledType","newState","setAll","Error","App","useReducer","useEffect","cartData","localStorage","getItem","JSON","parse","setItem","stringify","activeNavStyle","textDecoration","fontWeight","basename","Provider","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.445d4742.chunk.js","sourcesContent":["import React from \"react\";\n\nconst CartContext = React.createContext({});\n\nconst cartActions = {\n  increment: \"increment\",\n  decrement: \"decrement\",\n  set: \"set\",\n  remove: \"remove\",\n};\n\nexport default CartContext;\nexport { cartActions };\n","import React from \"react\";\n\nexport default function Home() {\n  return (\n    <div>\n      <h1>Home</h1>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/bigblue.b42e4ee9.jpg\";","import bigblue from \"./assets/bigblue.jpg\";\nimport carter from \"./assets/carter.jpg\";\nimport halga from \"./assets/halga.jpg\";\nimport john from \"./assets/john.jpg\";\nimport mitch from \"./assets/mitch.jpg\";\n\nconst data = {\n  \"9owJZnxf5J\": {\n    title: \"Ball Bearings (Bag of 1,000)\",\n    category: [\"Adventuring gear\"],\n    price: 100,\n    weight: 2,\n    image: carter,\n  },\n  \"5gMwSTWXgS\": {\n    title: \"Battleaxe\",\n    category: [\"Martial weapon\", \"melee weapon\"],\n    price: 1000,\n    weight: 4,\n    image: bigblue,\n  },\n  \"6EKYYaFobP\": {\n    title: \"Drow Poison\",\n    category: [\"Adventuring gear\", \"Poison\"],\n    price: 20000,\n    image: halga,\n  },\n  \"9XKcPV2CVl\": {\n    title: \"Hempen Rope (50 ft)\",\n    category: [\"Adventuring gear\"],\n    price: 100,\n    weight: 10,\n    image: john,\n  },\n  \"3Jk6vansY2\": {\n    title: \"Lute\",\n    category: [\"Instrument\"],\n    price: 3500,\n    weight: 2,\n    image: mitch,\n  },\n};\n\nexport default data;\n","export default __webpack_public_path__ + \"static/media/carter.ccc37705.jpg\";","export default __webpack_public_path__ + \"static/media/halga.4413451f.jpg\";","export default __webpack_public_path__ + \"static/media/john.a7902b56.jpg\";","export default __webpack_public_path__ + \"static/media/mitch.2c2647f8.jpg\";","import styled from \"styled-components\";\n\nconst Card = styled.div`\n  box-sizing: border-box;\n  position: relative;\n  width: 100%;\n  height: 12rem;\n  padding: 0.5rem;\n  margin: 1rem 0;\n  border-radius: 1.25rem;\n  box-shadow: 0 0 0.5rem rgba(100, 20, 20, 0.3);\n\n  overflow: hidden;\n\n  * {\n    margin: 0;\n  }\n\n  .background-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #3c614d;\n    background-image: url(${(props) => props.backgroundImage});\n    background-size: 100%;\n    background-position: center;\n  }\n\n  .card-info {\n    color: black;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    background-color: white;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 45%;\n    padding: 1rem;\n  }\n`;\n\nexport default Card;\n","const formatCurrency = (cur) => `$${(cur / 100).toFixed(2)}`;\n\nexport { formatCurrency };\n","const colors = {\n  btnBg: \"palevioletred\",\n};\n\nexport default colors;\n","import styled from \"styled-components\";\nimport colors from \"./colors\";\n\nconst Button = styled.button`\n  --content-scale-factor: 1.15;\n  font-size: 1.2rem;\n  box-sizing: border-box;\n  width: 100%;\n  margin: 0;\n  border: none;\n  border: ${colors.btnBg} 2px solid;\n  border-radius: 10px;\n  padding: 0.5em 1em;\n  font-weight: bold;\n  background: ${(props) => (props.primary ? colors.btnBg : \"none\")};\n  transition: 0.2s ease-in-out;\n  overflow: visible;\n\n  &:hover {\n    background: ${colors.btnBg};\n    color: white;\n    > * {\n      transform: scale(var(--content-scale-factor));\n    }\n  }\n\n  &:focus,\n  &:active {\n    outline: none;\n    border: 2px solid gold;\n  }\n\n  /* I want to transform:scale contents on hover, so they need transition */\n  > * {\n    transition: 0.1s ease-in-out;\n  }\n\n  /* in lieu of margin collapsing */\n  + Button {\n    margin-left: 0;\n  }\n\n  /* otherwise, react-icons disappear */\n  svg {\n    overflow: visible;\n  }\n`;\n\nexport default Button;\n","import React, { useContext } from \"react\";\nimport CartContext, { cartActions } from \"../CartContext\";\nimport Button from \"../styled-components/Button\";\n\nexport default function AddToCart({ id }) {\n  const { cartDispatch } = useContext(CartContext);\n\n  const handleClick = (e) => {\n    e.stopPropagation();\n    cartDispatch({ type: cartActions.increment, id: id });\n  };\n\n  return <Button onClick={handleClick}>Add to cart</Button>;\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Card from \"../styled-components/Card\";\nimport { formatCurrency } from \"../utilities\";\nimport AddToCart from \"./AddToCart\";\n\n//! I want the whole card to be a link, EXCEPT the button\n// but stopPropagation isn't working\n\nexport default function ProductCard({ id, product }) {\n  return (\n    <Card backgroundImage={product.image}>\n      <Link to={`/shop/${id}`} className=\"background-image\" />\n      <div className=\"card-info\">\n        <h3>{product.title}</h3>\n        <p>{formatCurrency(product.price)}</p>\n        <AddToCart id={id} />\n      </div>\n    </Card>\n  );\n}\n","import React from \"react\";\nimport storeData from \"../store-data\";\nimport ProductCard from \"./ProductCard\";\n\nexport default function Shop() {\n  return (\n    <div>\n      <h1>Shop</h1>\n      <ul style={{ paddingLeft: 0 }}>\n        {Object.entries(storeData).map(([id, product]) => (\n          <ProductCard key={id} id={id} product={product} />\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import styled from \"styled-components\";\nimport colors from \"./colors\";\nimport Button from \"./Button\";\n\nconst RoundBtn = styled(Button)`\n  --content-scale-factor: 1.5;\n  box-sizing: border-box;\n  padding: 1.2rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  color: ${colors.btnBg};\n  font-weight: bold;\n  margin: 0.5rem;\n  width: 2rem;\n  height: 2rem;\n  /* overflow: hidden; */\n`;\n\nexport default RoundBtn;\n","import styled from \"styled-components\";\n\nconst CartInputGroup = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport default CartInputGroup;\n","import styled from \"styled-components\";\n\nconst TextInput = styled.input`\n  font-size: 1.4rem;\n  border-radius: 15px;\n  border: 2px solid grey;\n  padding: 0.2rem 0;\n  padding-left: 1.2rem;\n  width: 4rem;\n  display: flex;\n  align-items: center;\n`;\n\nexport default TextInput;\n","import React, { useContext } from \"react\";\nimport CartContext, { cartActions } from \"../CartContext\";\nimport { FaTrash } from \"react-icons/fa\";\nimport RoundBtn from \"../styled-components/RoundBtn\";\nimport CartInputGroup from \"../styled-components/CartInputGroup\";\nimport TextInput from \"../styled-components/TextInput\";\n\nexport default function AddToCartInput({ id }) {\n  const { cartState, cartDispatch } = useContext(CartContext);\n  const quantity = cartState[id] ?? 0;\n\n  const handleInputChange = (e) => {\n    cartDispatch({\n      type: cartActions.set,\n      id,\n      quantity: Math.floor(Math.abs(e.target.value)),\n    });\n  };\n\n  const handleDecrement = () => {\n    if (quantity <= 0) return;\n\n    cartDispatch({ type: cartActions.decrement, id });\n  };\n\n  const handleIncrement = () => {\n    cartDispatch({ type: cartActions.increment, id });\n  };\n\n  const handleRemove = () => {\n    cartDispatch({ type: cartActions.remove, id });\n  };\n\n  return (\n    <CartInputGroup>\n      <RoundBtn onClick={handleRemove}>\n        <FaTrash />\n      </RoundBtn>\n      <RoundBtn onClick={handleDecrement}>\n        <span style={{ fontSize: \"1.6em\" }}> - </span>\n      </RoundBtn>\n      <TextInput type=\"number\" value={quantity} onChange={handleInputChange} />\n      <RoundBtn onClick={handleIncrement}>\n        <span style={{ fontSize: \"1.6em\" }}> + </span>\n      </RoundBtn>\n    </CartInputGroup>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CartContext from \"../CartContext\";\nimport storeData from \"../store-data\";\nimport Button from \"../styled-components/Button\";\nimport { formatCurrency } from \"../utilities\";\nimport AddToCartInput from \"./AddToCartInput\";\n\nexport default function Cart() {\n  const { cartState } = useContext(CartContext);\n\n  if (Object.entries(cartState).length === 0) {\n    return (\n      <div>\n        <h1>Cart</h1>\n        <h2>Hmmm... There doesn't seem to be anything here!</h2>\n        <p>\n          Head over to the <Link to=\"/shop\">Shop</Link> page to start adding\n          items to your cart!\n        </p>\n      </div>\n    );\n  }\n\n  const total = Object.entries(cartState).reduce(\n    (acc, [id, quantity]) => acc + storeData[id].price * quantity,\n    0\n  );\n\n  return (\n    <div>\n      <h1>Cart</h1>\n      <ul>\n        {Object.entries(cartState).map(([id, quantity]) => {\n          return (\n            <li key={id}>\n              <b>{storeData[id].title}</b> - {quantity} -{\" \"}\n              {formatCurrency(storeData[id].price * quantity)}\n              <AddToCartInput id={id} />\n            </li>\n          );\n        })}\n      </ul>\n      <div>Total: {formatCurrency(total)}</div>\n      <Button>\n        <div>Proceed to checkout</div>\n      </Button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { formatCurrency } from \"../utilities\";\nimport storeData from \"../store-data\";\nimport AddToCartInput from \"./AddToCartInput\";\n\nexport default function Product() {\n  const { productId } = useParams();\n\n  const product = storeData[productId];\n\n  // TODO: this should probably be a redirect\n  if (!product) {\n    return (\n      <div>\n        <h2>Oops! Sorry about that...</h2>\n        <p>Could not find product id {productId}</p>\n        <Link to=\"/shop\">Back to shop</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <Link to=\"/shop\">Back to shop</Link>\n\n      <div>\n        <h2>{product.title}</h2>\n        <p>{productId}</p>\n        <p>{formatCurrency(product.price)}</p>\n        {product.weight && <p>{product.weight} lb</p>}\n        <ul>\n          {product.category.map((cat) => (\n            <li key={cat}>{cat}</li>\n          ))}\n        </ul>\n        <AddToCartInput id={productId} />\n      </div>\n    </div>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport CartContext from \"../CartContext\";\nimport { RiShoppingCart2Fill, RiShoppingCart2Line } from \"react-icons/ri\";\n\nexport default function CartLink({ to, activeStyle }) {\n  const loc = useLocation();\n  const { cartState } = useContext(CartContext);\n\n  return (\n    <NavLink to={to} activeStyle={activeStyle}>\n      {loc.pathname === \"/cart\" ? (\n        <RiShoppingCart2Fill />\n      ) : (\n        <RiShoppingCart2Line />\n      )}\n      ({Object.entries(cartState).length})\n    </NavLink>\n  );\n}\n","import styled from \"styled-components\";\n\nconst Nav = styled.nav`\n  position: sticky;\n  top: 0;\n  width: 100%;\n  box-sizing: border-box;\n  background: black;\n  color: white;\n  padding: 0.2rem 0;\n  font-size: 1.2rem;\n  z-index: 999;\n\n  :after {\n    position: absolute;\n    content: \"\";\n    margin-bottom: 4rem;\n  }\n\n  ul {\n    display: flex;\n    justify-content: space-around;\n    padding: 0;\n  }\n\n  li {\n    list-style: none;\n  }\n\n  a {\n    color: white;\n    text-decoration: none;\n    text-align: center;\n  }\n`;\n\nexport default Nav;\n","import styled from \"styled-components\";\n\nconst Main = styled.main`\n  padding: 0 1rem;\n  margin: auto;\n  max-width: 40rem;\n  font-size: 1.2rem;\n`;\n\nexport default Main;\n","import React, { useEffect, useReducer } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  NavLink,\n  Switch,\n} from \"react-router-dom\";\n\n// custom react elements (not components)\nimport CartContext, { cartActions } from \"./CartContext\";\n\n// custom components\nimport Home from \"./components/Home\";\nimport Shop from \"./components/Shop\";\nimport Cart from \"./components/Cart\";\nimport Product from \"./components/Product\";\nimport CartLink from \"./components/CartLink\";\n\n// styled components\nimport Nav from \"./styled-components/Nav\";\nimport Main from \"./styled-components/Main\";\n\nconst cartReducer = (state, { type, id, quantity, data }) => {\n  if (!state[id]) state[id] = 0;\n\n  // Depending on state, I might want to change action type\n  // ie, if decrementing, delete if qty <= 1\n  let handledType = type;\n  if (type === cartActions.decrement && state[id] <= 1) {\n    handledType = cartActions.remove;\n  }\n\n  switch (handledType) {\n    case cartActions.increment:\n      return { ...state, [id]: state[id] + 1 };\n    case cartActions.decrement:\n      if (state[id] > 1) {\n        return { ...state, [id]: state[id] - 1 };\n      } else {\n        // TODO: add confirmation modal before filtering out\n        const newState = { ...state };\n        delete newState[id];\n        return newState;\n      }\n    case cartActions.set:\n      // TODO: this means 0 doesn't delete item from cart\n      // but immediately deleting when typing a number is also bad\n      // I might include a different action.type onBlur to delete if 0?\n      return { ...state, [id]: quantity };\n    // this is kind of a nightmare, actually\n    case cartActions.setAll:\n      return data;\n    case cartActions.remove:\n      const newState = { ...state };\n      delete newState[id];\n      return newState;\n    default:\n      throw new Error(`Unhandled cart action type ${type}`);\n  }\n};\n\nfunction App() {\n  const [cartState, cartDispatch] = useReducer(cartReducer, {});\n\n  // * Handle localStorage\n  // Initialize cart from localstorage, if possible\n  useEffect(() => {\n    const cartData = localStorage.getItem(\"cart\");\n    if (cartData) {\n      cartDispatch({ type: cartActions.setAll, data: JSON.parse(cartData) });\n    }\n  }, []);\n\n  // Update localStorage when cartState is updated\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cartState));\n  }, [cartState]);\n\n  // TODO: figure out a place to put this...\n  // idk how to make NavLink active work with styled-components yet\n  const activeNavStyle = {\n    textDecoration: \"underline\",\n    fontWeight: \"bold\",\n  };\n\n  return (\n    <div className=\"App\">\n      {/* this should probably be an environment var or somethin */}\n      <Router basename=\"shopping-cart\">\n        <CartContext.Provider value={{ cartState, cartDispatch }}>\n          <Nav>\n            <ul className=\"nav\">\n              <li>\n                <NavLink to=\"/\" activeStyle={activeNavStyle} exact>\n                  Home\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"/shop\" activeStyle={activeNavStyle}>\n                  Shop\n                </NavLink>\n              </li>\n              <li>\n                <CartLink to=\"/cart\" activeStyle={activeNavStyle}>\n                  Cart\n                </CartLink>\n              </li>\n            </ul>\n          </Nav>\n          <Main>\n            <Switch>\n              <Route path=\"/\" exact>\n                <Home />\n              </Route>\n              <Route path=\"/shop\" exact>\n                <Shop />\n              </Route>\n              <Route path=\"/shop/:productId\">\n                <Product />\n              </Route>\n              <Route path=\"/cart\" exact>\n                <Cart />\n              </Route>\n            </Switch>\n          </Main>\n        </CartContext.Provider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}